{
  "type": "index_parallel",
  "spec": {
    "ioConfig": {
      "type": "index_parallel",
      "inputSource": {
        "type": "inline",
        "data": "datetime,title1,title2,keywords\n2020-01-01 00:00:00,High Noon,Aladdin,horror|western|murder|sci-fi|romantic|romantic|sci-fi|sci-fi|comedy|murder\n2020-01-01 00:01:00,Aladdin,Aladdin,romantic\n2020-01-01 00:02:00,Alien,Alien,superhero|murder|murder|western|romantic|murder|cartoon|kids\n2020-01-01 00:03:00,High Noon,Alien,kids|mystery|cartoon|cartoon|mystery|romantic|romantic\n2020-01-01 00:04:00,Alien,Black Widow,kids|kids\n2020-01-01 00:05:00,Alien,50 First Dates,cartoon|romantic|comedy|kids|kids|horror|comedy|romantic\n2020-01-01 00:06:00,High Noon,50 First Dates,mystery|horror|sci-fi|comedy|sci-fi\n2020-01-01 00:07:00,50 First Dates,Alien,sci-fi|cartoon|sci-fi|cartoon|murder|superhero|horror|murder|western\n2020-01-01 00:08:00,Alien,Alien,western|horror|kids|superhero|comedy|romantic|kids|sci-fi|sci-fi|kids\n2020-01-01 00:09:00,Alien,High Noon,cartoon|kids|romantic|western|western|western|kids|western|romantic|mystery\n2020-01-01 00:10:00,Alien,50 First Dates,western|sci-fi|cartoon|kids|kids|kids|comedy|romantic|horror|murder\n2020-01-01 00:11:00,Aladdin,Black Widow,comedy|horror|cartoon|cartoon|murder|comedy|kids|cartoon\n2020-01-01 00:12:00,High Noon,50 First Dates,romantic|western|murder|kids|superhero|horror|superhero|superhero|horror\n2020-01-01 00:13:00,Black Widow,High Noon,murder|cartoon|kids|murder|sci-fi|cartoon|western|mystery|cartoon\n2020-01-01 00:14:00,50 First Dates,Black Widow,murder|horror|horror\n2020-01-01 00:15:00,Alien,Black Widow,superhero|western|sci-fi|romantic|sci-fi|romantic|kids\n2020-01-01 00:16:00,High Noon,Black Widow,murder|horror|kids\n2020-01-01 00:17:00,Black Widow,Alien,romantic|western|western|romantic|murder|horror\n2020-01-01 00:18:00,50 First Dates,Black Widow,superhero|comedy|romantic|sci-fi|murder|murder|mystery|mystery|sci-fi|comedy\n2020-01-01 00:19:00,50 First Dates,High Noon,western|horror|murder|romantic|sci-fi|western|romantic|romantic|romantic|mystery\n2020-01-01 00:20:00,Black Widow,Alien,sci-fi\n2020-01-01 00:21:00,High Noon,Aladdin,sci-fi\n2020-01-01 00:22:00,Alien,Alien,comedy|kids|kids|cartoon|western|cartoon|romantic\n2020-01-01 00:23:00,50 First Dates,Alien,mystery|kids|comedy|sci-fi\n2020-01-01 00:24:00,Alien,50 First Dates,western|comedy|comedy|superhero|murder|sci-fi|kids|murder\n2020-01-01 00:25:00,Alien,Aladdin,romantic|comedy|murder|sci-fi\n2020-01-01 00:26:00,Alien,Black Widow,romantic\n2020-01-01 00:27:00,High Noon,High Noon,cartoon|superhero|superhero|western|cartoon\n2020-01-01 00:28:00,Black Widow,Aladdin,mystery|mystery|cartoon|mystery|comedy|cartoon\n2020-01-01 00:29:00,Black Widow,50 First Dates,comedy|western\n2020-01-01 00:30:00,Black Widow,High Noon,sci-fi\n2020-01-01 00:31:00,Black Widow,High Noon,mystery|kids|superhero|murder|comedy|murder|western\n2020-01-01 00:32:00,50 First Dates,High Noon,mystery|comedy|comedy|western|murder|comedy|comedy\n2020-01-01 00:33:00,High Noon,Aladdin,mystery|murder|cartoon|romantic|western|western|kids|cartoon|superhero\n2020-01-01 00:34:00,Aladdin,Black Widow,kids|horror|murder|superhero\n2020-01-01 00:35:00,50 First Dates,Alien,sci-fi|western|cartoon|mystery|horror|cartoon|mystery|sci-fi|murder|superhero\n2020-01-01 00:36:00,50 First Dates,High Noon,kids|cartoon\n2020-01-01 00:37:00,Alien,Black Widow,comedy|kids|cartoon|sci-fi|mystery|horror|superhero|mystery\n2020-01-01 00:38:00,Black Widow,Black Widow,comedy|sci-fi|comedy|western\n2020-01-01 00:39:00,50 First Dates,Alien,superhero|superhero|horror|kids\n2020-01-01 00:40:00,50 First Dates,50 First Dates,mystery|mystery|comedy|western|cartoon\n2020-01-01 00:41:00,50 First Dates,Alien,sci-fi|comedy|cartoon|sci-fi|comedy|comedy|romantic|sci-fi\n2020-01-01 00:42:00,Alien,Black Widow,romantic\n2020-01-01 00:43:00,Alien,High Noon,mystery|comedy|comedy|murder|cartoon|kids|murder|comedy|superhero|murder\n2020-01-01 00:44:00,Black Widow,50 First Dates,superhero|sci-fi|kids|cartoon|mystery|murder|comedy|kids|mystery\n2020-01-01 00:45:00,Aladdin,Aladdin,horror|comedy|superhero\n2020-01-01 00:46:00,High Noon,Alien,murder|horror|romantic\n2020-01-01 00:47:00,Black Widow,Black Widow,murder|western|cartoon|murder|superhero|horror|kids\n2020-01-01 00:48:00,Black Widow,50 First Dates,horror|cartoon|murder|comedy|mystery|horror\n2020-01-01 00:49:00,High Noon,50 First Dates,kids|romantic|sci-fi\n2020-01-01 00:50:00,Alien,Black Widow,western|murder|comedy\n2020-01-01 00:51:00,Alien,Alien,kids|cartoon\n2020-01-01 00:52:00,Aladdin,50 First Dates,comedy|romantic\n2020-01-01 00:53:00,Aladdin,Black Widow,murder|romantic|mystery|superhero|western|western|murder|kids\n2020-01-01 00:54:00,50 First Dates,High Noon,cartoon|sci-fi|sci-fi|kids\n2020-01-01 00:55:00,High Noon,50 First Dates,comedy|horror\n2020-01-01 00:56:00,Aladdin,High Noon,western|cartoon|murder|romantic|murder|kids|western|mystery|kids\n2020-01-01 00:57:00,Black Widow,50 First Dates,western|horror|sci-fi|western|sci-fi|murder\n2020-01-01 00:58:00,50 First Dates,Black Widow,cartoon|horror|sci-fi|western|superhero|mystery|superhero|superhero\n2020-01-01 00:59:00,High Noon,50 First Dates,murder|superhero|western|cartoon|mystery|sci-fi|sci-fi|sci-fi|sci-fi|mystery\n2020-01-01 01:00:00,Alien,Aladdin,murder|horror|mystery|sci-fi|cartoon|murder|western|horror|cartoon|kids\n2020-01-01 01:01:00,High Noon,Aladdin,western|superhero|sci-fi|kids|superhero\n2020-01-01 01:02:00,Aladdin,Aladdin,superhero|comedy|mystery|murder|comedy|sci-fi|murder|comedy|western\n2020-01-01 01:03:00,50 First Dates,High Noon,kids|horror|mystery|horror|superhero\n2020-01-01 01:04:00,High Noon,High Noon,horror|comedy|sci-fi|horror|comedy|cartoon|romantic|cartoon|murder|comedy"
      },
      "inputFormat": {
        "type": "csv",
        "findColumnsFromHeader": true,
        "listDelimiter": "|"
      }
    },
    "tuningConfig": {
      "type": "index_parallel",
      "partitionsSpec": {
        "type": "dynamic"
      }
    },
    "dataSchema": {
      "dataSource": "inline_data",
      "timestampSpec": {
        "column": "datetime",
        "format": "auto"
      },
      "dimensionsSpec": {
        "dimensions": [
          "title1",
          "title2",
          {
            "name": "keywords1",
            "type": "string",
            "multiValueHandling": "SORTED_ARRAY"
          },
          {
            "name": "keywords2",
            "type": "string",
            "multiValueHandling": "SORTED_SET"
          },
          {
            "name": "keywords3",
            "type": "string",
            "multiValueHandling": "ARRAY"
          }
        ]
      },
      "granularitySpec": {
        "queryGranularity": "none",
        "rollup": false,
        "segmentGranularity": "day"
      },
      "transformSpec": {
        "transforms": [
          {
            "type": "expression",
            "name": "keywords1",
            "expression": "keywords"
          },
          {
            "type": "expression",
            "name": "keywords2",
            "expression": "keywords"
          },
          {
            "type": "expression",
            "name": "keywords3",
            "expression": "keywords"
          }
        ]
      }
    }
  }
}
